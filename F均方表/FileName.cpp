#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>
#include<stdlib.h>
// 预定义F分布临界值表（显著性水平为0.05和0.01）
// 表结构：f_critical_table[显著性水平][df1][df2]
double f_critical_table[2][10][10] = {
    // 显著性水平 0.05
    {
        {161.448, 199.500, 215.707, 224.583, 230.162, 233.986, 236.768, 238.883, 240.543, 241.882}, // df1=1
        {18.513, 19.000, 19.164, 19.247, 19.296, 19.330, 19.353, 19.371, 19.385, 19.396},           // df1=2
        {10.128, 9.552, 9.277, 9.117, 9.013, 8.941, 8.887, 8.845, 8.812, 8.786},                    // df1=3
        {7.709, 6.944, 6.591, 6.388, 6.256, 6.163, 6.094, 6.041, 5.999, 5.964},                    // df1=4
        {6.608, 5.786, 5.409, 5.192, 5.050, 4.950, 4.876, 4.818, 4.772, 4.735},                    // df1=5
        {5.987, 5.143, 4.757, 4.534, 4.387, 4.284, 4.207, 4.147, 4.099, 4.060},                    // df1=6
        {5.591, 4.737, 4.347, 4.120, 3.972, 3.866, 3.787, 3.726, 3.677, 3.637},                    // df1=7
        {5.318, 4.459, 4.066, 3.838, 3.687, 3.581, 3.500, 3.438, 3.388, 3.347},                    // df1=8
        {5.117, 4.256, 3.863, 3.633, 3.482, 3.374, 3.293, 3.230, 3.179, 3.137},                    // df1=9
        {4.965, 4.103, 3.708, 3.478, 3.326, 3.217, 3.135, 3.072, 3.020, 2.978}                     // df1=10
    },
    // 显著性水平 0.01
    {
        {4052.181, 4999.500, 5403.352, 5624.583, 5763.650, 5858.986, 5928.356, 5981.070, 6022.473, 6055.847}, // df1=1
        {98.503, 99.000, 99.166, 99.249, 99.299, 99.333, 99.356, 99.374, 99.388, 99.399},                      // df1=2
        {34.116, 30.816, 29.457, 28.710, 28.237, 27.911, 27.672, 27.489, 27.345, 27.229},                       // df1=3
        {21.198, 18.000, 16.694, 15.977, 15.522, 15.207, 14.976, 14.799, 14.659, 14.546},                       // df1=4
        {16.258, 13.274, 12.060, 11.392, 10.967, 10.672, 10.456, 10.289, 10.158, 10.051},                       // df1=5
        {13.745, 10.925, 9.780, 9.148, 8.746, 8.466, 8.260, 8.102, 7.976, 7.874},                              // df1=6
        {12.246, 9.547, 8.451, 7.847, 7.460, 7.191, 6.993, 6.840, 6.719, 6.620},                               // df1=7
        {11.259, 8.649, 7.591, 7.006, 6.632, 6.371, 6.178, 6.029, 5.911, 5.814},                               // df1=8
        {10.561, 8.022, 6.992, 6.422, 6.057, 5.802, 5.613, 5.467, 5.351, 5.257},                               // df1=9
        {10.044, 7.559, 6.552, 5.994, 5.636, 5.386, 5.200, 5.057, 4.942, 4.849}                                // df1=10
    }
};

// 获取F分布临界值
double get_f_critical_value(double alpha, int df1, int df2) {
    int alpha_index;
    if (alpha == 0.05) {
        alpha_index = 0;
    }
    else if (alpha == 0.01) {
        alpha_index = 1;
    }
    else {
        return -1; // 不支持的显著性水平
    }

    if (df1 < 1 || df1 > 10 || df2 < 1 || df2 > 10) {
        return -1; // 自由度超出范围
    }

    return f_critical_table[alpha_index][df1 - 1][df2 - 1];
}

int main() {
    double alpha;
    int df1, df2;

    // 获取用户输入的显著性水平和自由度
    printf("请选择显著性水平 (0.05 或 0.01): ");
    scanf("%lf", &alpha);
    printf("请输入分子自由度 (df1): ");
    scanf("%d", &df1);
    printf("请输入分母自由度 (df2): ");
    scanf("%d", &df2);

    // 获取F分布临界值
    double f_critical = get_f_critical_value(alpha, df1, df2);
    if (f_critical == -1) {
        printf("输入错误：不支持的显著性水平或自由度超出范围。\n");
    }
    else {
        printf("F分布临界值 (alpha=%.2f, df1=%d, df2=%d): %.4f\n", alpha, df1, df2, f_critical);
    }
    system("pause");
    return 0;
}